<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>95人乗りバス：吊り革過密シミュレーター</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bus-floor { background: #444; position: relative; border-radius: 40px 15px 15px 40px; overflow: hidden; }
        .seat { width: 28px; height: 28px; border-radius: 4px; cursor: pointer; transition: all 0.2s; position: absolute; z-index: 20; }
        .seat.active { background: #3498db; border: 2px solid #2980b9; box-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        .seat.removed { visibility: hidden; }
        .seat.priority { background: #e67e22; border: 2px solid #d35400; }
        
        /* 吊り革のビジュアル */
        .strap { position: absolute; width: 8px; height: 16px; border: 1.5px solid #ccc; border-radius: 0 0 4px 4px; border-top: 0; z-index: 10; opacity: 0.8; }
        .strap::before { content: ''; position: absolute; top: -12px; left: 3px; width: 1.5px; height: 12px; background: #999; }
        .strap.lack { border-color: #e74c3c; opacity: 1; filter: drop-shadow(0 0 2px red); }

        .indicator-bar { height: 12px; background: #333; border-radius: 6px; overflow: hidden; }
        .indicator-fill { height: 100%; transition: width 0.3s; }
        .pass-text { color: #2ecc71; font-weight: bold; }
        .fail-text { color: #e74c3c; font-weight: bold; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 p-4 md:p-8">

    <div class="max-w-6xl mx-auto bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 overflow-hidden">
        <div class="bg-slate-950 p-6 grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="text-center">
                <div class="text-xs text-slate-500 mb-1">合計定員 (立席数)</div>
                <div id="disp-capacity" class="text-5xl font-black text-yellow-400">--</div>
            </div>
            <div class="text-center">
                <div class="text-xs text-slate-500 mb-1">吊り革設置状況</div>
                <div id="disp-strap-status" class="text-2xl font-bold text-blue-400">--</div>
                <div id="strap-warning" class="text-[10px] mt-1"></div>
            </div>
            <div class="text-center">
                <div class="text-xs text-slate-500 mb-1">車両総重量</div>
                <div id="disp-weight" class="text-2xl font-bold">-- kg</div>
            </div>
            <div class="flex items-center justify-center">
                <div id="disp-status" class="w-full py-3 rounded-xl font-black text-center text-lg">--</div>
            </div>
        </div>

        <div class="flex flex-col lg:flex-row">
            <div class="w-full lg:w-72 p-6 bg-slate-900 border-r border-slate-700 space-y-6">
                <div>
                    <label class="block text-sm font-bold mb-2">パワートレイン</label>
                    <select id="bus-type" class="w-full p-2 bg-slate-800 border border-slate-6